" General notes
" ----------------------------------------------------
" - To print all builtin actions, run :actionlist
" - To use the option key on macos, you need to change your keyboard layout to "UnicodeHexInput"

" ================ Plugins ===========================

set surround
set multiple-cursors
set commentary
set argtextobj
set easymotion
set textobj-entire
set textobj-indent
set ReplaceWithRegister
set exchange
set ideajoin
" set NERDTree
set highlightedyank

" ================ Plugin settings ===========================

let g:argtextobj_pairs="[:],(:),<:>"

" ================ Common settings ===========================

set clipboard=unnamed       " Use system clipboard
set scrolloff=4
set showmode
set incsearch hlsearch
set ideastatusicon=gray
set ignorecase smartcase
set visualbell              " Stops the audible bell
set clipboard+=ideaput

" mark as bookmark
" map space o O

" ================ Maps ===========================

"" Update pycharm keymap "Down" and "Up" to Alt+j and Alt+k to move in popup menus

let mapleader=" "

" apply macro from register q
nnoremap Q @q

" stop highlighting after search
nnoremap \ :noh<cr>

" tab actions
nnoremap <leader>q :q<cr>
" next/prev tab
nnoremap <s-l> gt
nnoremap <s-h> gT

" move cursors between open tabs
nnoremap <c-h> <c-w>h
nnoremap <c-l> <c-w>l
nnoremap <c-k> <c-w>k
nnoremap <c-j> <c-w>j

" split and move
nnoremap <a-l> :action MoveTabRight<CR>
nnoremap <a-h> :action Unsplit<CR>
nnoremap <a-j> :action MoveTabDown<CR>


"clear line
nnoremap <leader><leader>c ^C
nnoremap <leader>D ^D


" add new line below/above and stay in normal mode
nnoremap <leader>O O<Esc>
nnoremap <leader>o o<Esc>
nnoremap <s-cr> O<Esc>
nnoremap <cr> o<Esc>

" make backspace usable in normal and visual (selection)
vnoremap <BS> x
nnoremap <BS> X

" easymotion map
nmap <Leader>f <Plug>(easymotion-bd-f)

nnoremap [[ :action MethodUp<CR>
nnoremap ]] :action MethodDown<CR>

"  self explanatory IntelliJJ actions
nnoremap <Leader>/ :action Find<CR>
"nnoremap <Leader>r :action RenameElement<CR>
nnoremap <leader>r :action Refactorings.QuickListPopupAction<CR>
vnoremap <leader>r :action Refactorings.QuickListPopupAction<CR>
nnoremap <Leader>b :action FileStructurePopup<CR>
nnoremap <Leader>t :action ReformatCode<CR>
nnoremap <Leader>; :action QuickImplementations<CR>
nnoremap <Leader><leader>r :action ChooseRunConfiguration<CR>
nnoremap <Leader><leader><leader>r :action EditorPopupMenu.Run<CR>
nnoremap [c :action VcsShowPrevChangeMarker<cr>
nnoremap ]c :action VcsShowNextChangeMarker<cr>

noremap ga :action GotoAction<CR>
" noremap gd :action GotoDeclaration<CR>
noremap gb :action GotoDatabaseObject<CR>
noremap gs :action GotoSymbol<CR>
noremap gi :action GotoImplementation<CR>
noremap gf :action GotoFile<CR>
noremap gh :action CallHierarchy<CR>
nnoremap ge :action GotoNextError<CR>
nnoremap <c-e> :action HideAllWindows<CR>
nnoremap ,r :action Run<CR>

vnoremap <leader>ev :action IntroduceVariable<CR>
vnoremap <leader>em :action ExtractMethod<CR>

" show info+error (like mouse hover)
nnoremap gm :action ShowErrorDescription<CR>

" expand to level 1 (hide go err handling)
nnoremap zn :action ExpandAllToLevel1<CR>

" jumplist mapped by default to <C-o> | <C-i>

nmap <C-o> <Action>(Back)
nmap <C-i> <Action>(Forward)
nmap <M-i> <Action>(Forward)
nmap <M-o> <Action>(Back)

" All inner word actions
nnoremap <leader>y yiw
nnoremap <leader>Y yiW

nnoremap <leader>d diw
nnoremap <leader>D diW

nnoremap <leader>c ciw
nnoremap <leader>C ciW

map <leader>g griw
map <leader>G griW

map <leader>x cxiw
map <leader>X cxiW

"""  Shift-Select
nmap <S-Left> <Action>(EditorLeftWithSelection)
nmap <S-Right> <Action>(EditorRightWithSelection)
nmap <S-Up> <Action>(EditorUpWithSelection)
nmap <S-Down> <Action>(EditorDownWithSelection)
imap <S-Left> <Action>(EditorLeftWithSelection)
imap <S-Right> <Action>(EditorRightWithSelection)
imap <S-Up> <Action>(EditorUpWithSelection)
imap <S-Down> <Action>(EditorDownWithSelection)
vmap <S-Left> <Action>(EditorLeftWithSelection)
vmap <S-Right> <Action>(EditorRightWithSelection)
vmap <S-Up> <Action>(EditorUpWithSelection)
vmap <S-Down> <Action>(EditorDownWithSelection)

