let $MYVIMRC = "$DOTFILES/vim/vimrc_custom"

call plug#begin('~/.vim/plugged')
source $DOTFILES/vim/Plugins
call plug#end()

for f in split(glob($DOTFILES.'/vim/plugin_settings/*.vim'), '\n')
  exe 'source' f
endfor

source $DOTFILES/vim/filetype.vim
source $DOTFILES/vim/general.vim
source $DOTFILES/vim/mappings.vim
source $DOTFILES/vim/abbr.vim
source $DOTFILES/vim/color.vim

" No delay for ESC
set timeoutlen=1000 ttimeoutlen=0
" When youâ€™re pressing Escape to leave insert mode in the terminal, it will by
" default take a second or another keystroke to leave insert mode completely
" and update the statusline. This fixes that. I got this from:
" https://powerline.readthedocs.org/en/latest/tipstricks.html#vim
if !has('gui_running')
  set ttimeoutlen=10
  augroup FastEscape
    autocmd!
    au InsertEnter * set timeoutlen=0
    au InsertLeave * set timeoutlen=1000
  augroup END
endif

" WSL yank support (windows 10 with windows-terminal)
let s:clip = '/mnt/c/Windows/System32/clip.exe'  " change this path according to your mount point
if executable(s:clip)
    augroup WSLYank
        autocmd!
        autocmd TextYankPost * if v:event.operator ==# 'y' | call system(s:clip, @0) | endif
    augroup END
endif
